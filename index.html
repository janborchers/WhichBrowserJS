<!doctype html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Which browser?</title>

        <script type="text/javascript" src="js/data/definitions.js"></script>
        <script type="text/javascript" src="js/data/build-android.js"></script>
        <script type="text/javascript" src="js/data/id-android.js"></script>
        <script type="text/javascript" src="js/data/models-android.js"></script>
        <script type="text/javascript" src="js/data/models-bada.js"></script>
        <script type="text/javascript" src="js/data/models-asha.js"></script>
        <script type="text/javascript" src="js/data/models-blackberry.js"></script>
        <script type="text/javascript" src="js/data/models-brew.js"></script>
        <script type="text/javascript" src="js/data/models-feature.js"></script>
        <script type="text/javascript" src="js/data/models-firefoxos.js"></script>
        <script type="text/javascript" src="js/data/models-ios.js"></script>
        <script type="text/javascript" src="js/data/models-s40.js"></script>
        <script type="text/javascript" src="js/data/models-s60.js"></script>
        <script type="text/javascript" src="js/data/models-tizen.js"></script>
        <script type="text/javascript" src="js/data/models-touchwiz.js"></script>
        <script type="text/javascript" src="js/data/models-wm.js"></script>
        <script type="text/javascript" src="js/data/models-wp.js"></script>
        <script type="text/javascript" src="js/data/profiles.js"></script>

        <script type="text/javascript" src="js/libraries/utilities.js"></script>
        <script type="text/javascript" src="js/libraries/whichbrowser.js"></script>

        <style>

            html {
                font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", "Helvetica", "Arial", "Lucida Grande", sans-serif;
                font-size: 1.1em;
            }

            body {
                background: #d9d9d9;
                text-align: center;
            }

            #container {
                background: #fff;
                width: 70%;
                margin: 100px auto 50px;
                padding: 30px;
                font-size: 3em;
            }

            #container small {
                display: block;
                margin-top: 2em;
                font-size: 0.3em;
                line-height: 150%;
            }

        </style>
    </head>

    <body>

        <div id="container">
            <div id="header"></div>
            <small id="ua"></small>
            <small id="test"></small>
        </div>


        <script type="text/javascript">







            var whichBrowser = new WhichBrowser();
            whichBrowser.onReady(function (whichBrowser) {

                console.log("wb:", whichBrowser);

                var content = 'You are using ';

                // browser
                content += whichBrowser.browser.name + ' ';
                if (whichBrowser.browser.version)
                {
                    if (whichBrowser.browser.version.alias)
                    {
                        content += whichBrowser.browser.version.alias;
                    }
                    else if (!whichBrowser.browser.version.details)
                    {
                        content += whichBrowser.browser.version.value;
                    }
                    else
                    {
                        var value = whichBrowser.browser.version.value.split('.');
                        for (var i = 0, l = whichBrowser.browser.version.details; i < l; i += 1)
                        {
                            content += value[i] + (i < (l - 1) ? '.' : '');
                        }
                    }
                }


                // device
                if (whichBrowser.device.type === 'desktop')
                {
                    content += ' on ';
                }
                else
                {
                    content += ' on a ';
                    content += whichBrowser.device.manufacturer ? whichBrowser.device.manufacturer + ' ' : '';
                    content += whichBrowser.device.model || '';
                    content += ' running ';
                }


                // os
                content += whichBrowser.os.name + ' ';
                if (whichBrowser.os.version)
                {
                    if (whichBrowser.os.version.alias)
                    {
                        content += whichBrowser.os.version.alias;
                    }
                    else if (!whichBrowser.os.version.details)
                    {
                        content += whichBrowser.os.version.value;
                    }
                    else
                    {
                        var value = whichBrowser.os.version.value.split('.');
                        for (var i = 0, l = whichBrowser.os.version.details; i < l; i += 1)
                        {
                            content += value[i] + (i < (l - 1) ? '.' : '');
                        }
                    }
                }


                document.getElementById('header').textContent = content;
                document.getElementById('ua').textContent = navigator.userAgent;

                document.getElementById('test').textContent = JSON.stringify(whichBrowser);

            });


        </script>

    </body>
</html>
